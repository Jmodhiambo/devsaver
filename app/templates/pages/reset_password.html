{% extends "base.html" %}

{% block content %}
<div class="form-container">

    {% if msg == "password_mismatch" %}
        <div class="alert alert-error">
            Passwords do not match. Please try again.
        </div>
    {% endif %}

    <h2>Reset Password </h2>

    <form method="post" action="/reset-password">
        <div>
        <label for="email">Email</label><br>
        <input 
            type="email" 
            id="email" 
            name="email" 
            value="{{ email if email else data.email }}"
            placeholder="johndoe@example.com" 
            readonly
        >
        {% if errors.email %}
            <p class="error">{{ errors.email }}</p>
        {% endif %}
        </div>

        <br>

        <div>
        <label for="password">New Password</label><br>
        <input 
            type="password" 
            id="password" 
            name="new_password"
            placeholder="New Password"
            required
        >
        {% if errors.new_password %}
            <p class="error">{{ errors.new_password }}</p>
        {% endif %}
        </div>

        <br>

        <div>
        <label for="password">Confirm Password</label><br>
        <input 
            type="password" 
            id="password" 
            name="confirm_password"
            placeholder="Confirm Password"
            required
        >
        {% if errors.confirm_password %}
            <p class="error">{{ errors.confirm_password }}</p>
        {% endif %}
        </div>

        <br>
        
        {% if errors.general %} <!-- General Errors -->
        <p class="error">{{ errors.general }}</p><br>
        {% endif %}

        <button type="submit">Reset Password</button>
    </form>
    <p>Remember password? <a href="/login">Login here.</a></p>
</div>



<!-- <form method="post" action="/reset-password">
    <input type="text" name="email" placeholder="Email" value="{{ email }}" required><br><br>
    <input type="password" name="new_password" placeholder="New Password" required><br><br>
    <input type="password" name="confirm_password" placeholder="Confirm Password" required><br><br>
    <button type="submit">Reset Password</button>
</form> -->

{% endblock %}