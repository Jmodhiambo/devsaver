{% extends "base.html" %}

{% block content %}
<div class="form-container"> 
<br>

  {% if msg %}
    <p class="alert alert-error">{{ msg }}</p>
  {% endif %}

  <h1>Register Account</h1>

  <form method="post" action="/register">
    <div>
      <label for="fullname">Full Name</label><br>
      <input 
        type="text" 
        id="fullname" 
        name="fullname" 
        value="{{ data.fullname | default('') }}" 
        placeholder="John Doe"
      >
      {% if errors.fullname %}
        <p class="error">{{ errors.fullname }}</p>
      {% endif %}
    </div>
    <br>

    <div>
      <label for="username">Username</label><br>
      <input 
        type="text" 
        id="username" 
        name="username" 
        value="{{ data.username | default('') }}" 
        placeholder="johndoe" 
        required
      >
      {% if errors.username %}
        <p class="error">{{ errors.username }}</p>
      {% endif %}
    </div>
    <br>

    <div>
      <label for="email">Email</label><br>
      <input 
        type="email" 
        id="email" 
        name="email" 
        value="{{ data.email | default('') }}" 
        placeholder="johndoe@example.com" 
        required
      >
      {% if errors.email %}
        <p class="error">{{ errors.email }}</p>
      {% endif %}
    </div>
    <br>

    <div>
      <label for="password">Password</label><br>
      <input 
        type="password" 
        id="password" 
        name="password" 
        required
      >
      {% if errors.password %}
        <p class="error">{{ errors.password }}</p>
      {% endif %}
    </div>
    <br>
    
    {% if errors.general %} <!-- General Errors -->
    <p class="error">{{ errors.general }}</p><br>
    {% endif %}

    <button type="submit">Register</button>
  </form>
  <p>Already have an account? <a href="/login">Login here.</a></p>
</div>
{% endblock %}