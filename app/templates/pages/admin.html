{% extends "base.html" %}

{% block content %}
<div class="admin-container">
    
    <h2>Admin Dashboard</h2>
    <h3>Registered Users</h3>
    <div class="user-list">
        {% for user in users %}
            <div class="user-row">
                <span><strong>{{ user.username }}</strong></span>
                <span>{{ user.email }}</span>
                <span>{{ user.fullname if user.fullname else "No full name" }}</span>

                <a href="/admin/edit-user/{{ user.id }}" ><button class="edit-btn">Edit</button></a>

                <!-- <form action="/admin/edit-user/{{ user.id }}" method="post" class="edit-form">
                    <button type="submit" class="edit-btn">Edit</button>
                </form> -->

                <form action="{{ url_for('delete-user', user_id=user.id) }}" method="post" class="delete-form">
                    <button type="submit" class="delete-btn" onclick="return confirm('Are you sure you want to delete this user?');">Delete</button>
                </form>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}