{% extends "base.html" %}
{% block content %}
<div class="resource-view-container">

  <h2>{{ resource.title }}</h2>
  <p><strong>Type:</strong>
    <span style="color:orange;">{{ resource.type }}</span>
</p>

  {% if resource.description %}
    <p><strong>Description:</strong>
        <span style="color:orange;">{{ resource.description }}</span>
    </p>
  {% endif %}

  <br>
  <div class="resource-display">
    {% if resource.type == 'Video' %}
      <video controls width="100%">
        <source src="{{ resource.url }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>

    {% elif resource.type == 'Image' %}
      <img src="{{ resource.url }}" alt="{{ resource.title }}" style="max-width:100%; border-radius:8px;">

    {% elif resource.type == 'Audio' %}
      <audio controls>
        <source src="{{ resource.url }}" type="audio/mpeg">
        Your browser does not support the audio tag.
      </audio>

    {% elif resource.type == 'Link' %}
      <iframe src="{{ resource.url }}" style="width:100%; height:400px;" loading="lazy"></iframe>

    {% elif resource.type == 'File' %}
      <div class="file-box">
        <p><strong>File:</strong> {{ resource.original_filename }}</p>
        <a href="{{ resource.url }}" download>Download File</a>
      </div>

    {% else %}
      <p>No preview available for this resource type.</p>
    {% endif %}
  </div>

  {% if resource.tags %}
    <br><p><strong>Tags:</strong>
      {% for tag in resource.tags.split(',') %}
        <span class="tag" style="color: orange;">{{ tag }}</span>
      {% endfor %}
    </p>
  {% endif %}

  <div class="resource-actions">
    <a href="/dashboard" class="btn">‚Üê Back to Dashboard</a>
    <a href="/resources/edit-resource/{{ resource.id }}" class="btn">Edit</a>
    <a href="{{ resource.url }}" target="_blank" class="btn">Open Resource</a>
  </div>

</div>
{% endblock %}